<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Perform DNSSEC validation without using extensions.</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.php-getdns-service.html">php_getdns_service</a></div>
 <div class="next" style="text-align: right; float: right;"><a href=""></a></div>
 <div class="up"><a href="ref.getdns.html">getdns Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.php-getdns-validate-dnssec" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">php_getdns_validate_dnssec</h1>
  <p class="verinfo">(PECL getdns &gt;= 0.6.1)</p><p class="refpurpose"><span class="refname">php_getdns_validate_dnssec</span> &mdash; <span class="dc-title">Perform DNSSEC validation without using extensions.</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.php-getdns-validate-dnssec-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>php_getdns_validate_dnssec</strong></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$toValidate</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$supportRecords</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$trustAnchors</code></span>
   )</div>

  <p class="para rdfs-comment">
   This function can be used by an application to have the getdns library perform DNSSEC
   validation without using extensions as part of a query. The getdns library will use
   the resource records in supportRecords to construct the validation chain and the
   DNSKEY or DS records in trustAnchors as trust anchors.
  </p>
  <p class="para">
   Note, though, that the utility of this function is currently limited by a bug
   in the getdns library related to the processing of responses that include
   compressed names (such as those that include NS, MX and CNAME records).
   This function also has the shortcoming that it cannot recognize insecure
   delegations, so it should never be blindly used to determine the DNSSEC
   status of answers received with the dnssec_return_validation_chain extension.
   Real DNSSEC validation needs a more intelligent approach than this function
   can offer with the current getdns API&#039;s prototype.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.php-getdns-validate-dnssec-parameters">
  <h3 class="title">Parameters</h3>
  <dl>

   
    <dt>
<code class="parameter">toValidate</code></dt>

    <dd>

     <p class="para">
      A reference to the list that represents the response resource records to be validated.
      The needed list can be found by retrieving the &quot;replies_tree&quot; list from the response
      dictionary, retrieving the dictionary in the first position (index value 0) from
      that list, and then retrieving the &quot;answer&quot; list from that dictionary.
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">supportRecords</code></dt>

    <dd>

     <p class="para">
      A reference to the list that represents the records used to construct the
      validation chain. The support records can be included in the response by
      setting the &quot;dnssec_return_validation_chain&quot; extension value to
      GETDNS_EXTENSION_TRUE. The list of support records can then be retrieved
      from the response dictionary using the &quot;validation_chain&quot; identifier.
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">trustAnchors</code></dt>

    <dd>

     <p class="para">
      A reference to the list that represents the trust anchor records to use
      for validation.  The default list of trust anchor records that is used
      by the library to validate DNSSEC can be retrieved using the
      php_getdns_root_trust_anchor() helper function.
     </p>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.php-getdns-validate-dnssec-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   This function returns an integer response code. GETDNS_DNSSEC_SECURE indicates confirmation of
   DNSSEC security. GETDNS_DNSSEC_BOGUS indicates that the response was determined to be invalid.
   GETDNS_DNSSEC_INDETERMINATE indicates that the DNSSEC state could not be determined.
   GETDNS_DNSSEC_INSECURE indicates that the response was determined to be insecure.
  </p>
 </div>



</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.php-getdns-service.html">php_getdns_service</a></div>
 <div class="next" style="text-align: right; float: right;"><a href=""></a></div>
 <div class="up"><a href="ref.getdns.html">getdns Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
